# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ üõ°Ô∏è

## üé¶ –ß—Ç–æ —Ç–∞–∫–æ–µ –æ—à–∏–±–∫–∏?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å –æ—à–∏–±–∫–∏ –∫–∞–∫ **–ø—Ä–æ–±–∫–∏ –Ω–∞ –¥–æ—Ä–æ–≥–µ**:

üõ£Ô∏è **–î–æ—Ä–æ–≥–∞** = –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞  
üöß **–ü—Ä–æ–±–∫–∞** = –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ  
üë∑ **–î–æ—Ä–æ–∂–Ω—ã–π —Ä–∞–±–æ—á–∏–π** = –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫  
üîÑ **–û–±—ä–µ–∑–¥** = –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å

```javascript
try {
  // –ü—ã—Ç–∞–µ–º—Å—è –ø—Ä–æ–µ—Ö–∞—Ç—å –ø–æ –¥–æ—Ä–æ–≥–µ
  —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π_–∫–æ–¥();
} catch (–æ—à–∏–±–∫–∞) {
  // –ü—Ä–æ–±–∫–∞! –ò—â–µ–º –æ–±—ä–µ–∑–¥
  console.log("–û—à–∏–±–∫–∞:", –æ—à–∏–±–∫–∞.message);
}
```

## üõë try...catch - –æ—Å–Ω–æ–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### üéØ –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```javascript
try {
  // –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
  const result = riskyOperation();
  console.log("–†–µ–∑—É–ª—å—Ç–∞—Ç:", result);
} catch (–æ—à–∏–±–∫–∞) {
  // –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
  console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:", –æ—à–∏–±–∫–∞.message);
  console.error("–¢–∏–ø –æ—à–∏–±–∫–∏:", –æ—à–∏–±–∫–∞.name);
  console.error("–°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤:", –æ—à–∏–±–∫–∞.stack);
} finally {
  // –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤—Å–µ–≥–¥–∞ (–∏ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, –∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ)
  console.log("–ë–ª–æ–∫ finally –≤—ã–ø–æ–ª–Ω–µ–Ω");
}
```

### üéØ –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã

```javascript
// 1. –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
try {
  const result = 10 / 0; // Infinity, –Ω–æ –Ω–µ –æ—à–∏–±–∫–∞
  console.log("–†–µ–∑—É–ª—å—Ç–∞—Ç:", result);
} catch (error) {
  console.error("–û—à–∏–±–∫–∞:", error);
}

// 2. –î–æ—Å—Ç—É–ø –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å–≤–æ–π—Å—Ç–≤—É
try {
  const object = null;
  console.log(object.property); // TypeError
} catch (error) {
  console.error("–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ:", error.message);
}

// 3. –ü–∞—Ä—Å–∏–Ω–≥ JSON
try {
  const invalidJson = "{ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π: json }";
  const data = JSON.parse(invalidJson); // SyntaxError
} catch (error) {
  console.error("–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:", error.message);
}
```

## üéØ –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫

### üéØ throw - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—à–∏–±–∫–∏

```javascript
function checkAge(age) {
  if (typeof age !== "number") {
    throw new TypeError("–í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º");
  }

  if (age < 0) {
    throw new RangeError("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º");
  }

  if (age > 120) {
    throw new RangeError("–í–æ–∑—Ä–∞—Å—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π");
  }

  return "–í–æ–∑—Ä–∞—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω";
}

try {
  console.log(checkAge(25)); // "–í–æ–∑—Ä–∞—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω"
  console.log(checkAge(-5)); // –û—à–∏–±–∫–∞!
} catch (error) {
  console.error("–û—à–∏–±–∫–∞ –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ:", error.message);
  console.error("–¢–∏–ø –æ—à–∏–±–∫–∏:", error.name);
}
```

### üéØ –ö–ª–∞—Å—Å Error –∏ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏

```javascript
// –ë–∞–∑–æ–≤—ã–π —Ç–∏–ø –æ—à–∏–±–∫–∏
const error = new Error("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫");
console.log(error.name); // "Error"
console.log(error.message); // "–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫"

// –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
const typeError = new TypeError("–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö");
const rangeError = new RangeError("–ó–Ω–∞—á–µ–Ω–∏–µ –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞");
const syntaxError = new SyntaxError("–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞");
const referenceError = new ReferenceError("–û–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω");

// –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ—à–∏–±–∫–∞
class –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è–û—à–∏–±–∫–∞ extends Error {
  constructor(message, –∫–æ–¥) {
    super(message);
    this.name = "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è–û—à–∏–±–∫–∞";
    this.–∫–æ–¥ = –∫–æ–¥;
  }
}

const myError = new CustomError("–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω", "AUTH_001");
console.log(myError.message); // "–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω"
console.log(myError.code); // "AUTH_001"
```

## üåê try...catch —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º

### üéØ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```javascript
async function loadData(url) {
  try {
    const response = await fetch(url);

    if (!response.ok) {
      throw new Error(`HTTP –æ—à–∏–±–∫–∞: ${response.status}`);
    }

    const data = await response.json();
    return data;
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:", error.message);
    return null; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º null –ø—Ä–∏ –æ—à–∏–±–∫–µ
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
(async () => {
  const data = await loadData(
    "https://jsonplaceholder.typicode.com/users/1",
  );
  if (data) {
    console.log("–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:", data);
  } else {
    console.log("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å data");
  }
})();
```

### üéØ –ü—Ä–æ–º–∏—Å—ã —Å catch

```javascript
function loadUser(id) {
  return fetch(`https://jsonplaceholder.typicode.com/users/${id}`)
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}`);
      }
      return response.json();
    })
    .catch((error) => {
      console.error("–û—à–∏–±–∫–∞ –≤ –ø—Ä–æ–º–∏—Å–µ:", error.message);
      throw error; // –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–∞–ª—å—à–µ
    });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
loadUser(1)
  .then((user) => console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:", user))
  .catch((error) => console.error("–§–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞:", error.message));
```

## üéØ –í–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ try...catch

```javascript
function processFile(path) {
  try {
    console.log("–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª:", path);

    try {
      const content = readFile(path);
      console.log("–§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω");

      try {
        const data = JSON.parse(content);
        console.log("JSON —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω:", data);
      } catch (jsonError) {
        console.error("–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:", jsonError.message);
        throw new Error("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON –≤ —Ñ–∞–π–ª–µ");
      }
    } catch (readError) {
      console.error("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:", readError.message);
      throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª");
    }
  } catch (generalError) {
    console.error("–û–±—â–∞—è –æ—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:", generalError.message);
    return false;
  }
}

// –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –æ–¥–Ω–∏–º try...catch
function processFileImproved(path) {
  try {
    console.log("–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª:", path);
    const content = readFile(path);
    console.log("–§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω");

    const data = JSON.parse(content);
    console.log("JSON —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω:", data);
    return data;
  } catch (error) {
    if (error instanceof SyntaxError) {
      console.error("–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:", error.message);
    } else {
      console.error("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:", error.message);
    }
    return false;
  }
}
```

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### üéØ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```javascript
class –í–∞–ª–∏–¥–∞—Ü–∏—è–û—à–∏–±–∫–∞ extends Error {
  constructor(–ø–æ–ª–µ, —Å–æ–æ–±—â–µ–Ω–∏–µ) {
    super(`${–ø–æ–ª–µ}: ${—Å–æ–æ–±—â–µ–Ω–∏–µ}`);
    this.name = "–í–∞–ª–∏–¥–∞—Ü–∏—è–û—à–∏–±–∫–∞";
    this.–ø–æ–ª–µ = –ø–æ–ª–µ;
    this.—Å–æ–æ–±—â–µ–Ω–∏–µ = —Å–æ–æ–±—â–µ–Ω–∏–µ;
  }
}

function validateUser(user) {
  const errors = [];

  if (!user.–∏–º—è || user.–∏–º—è.trim().length < 2) {
    errors.push(new ValidationError("–∏–º—è", "–ú–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞"));
  }

  if (!user.email || !user.email.includes("@")) {
    errors.push(new ValidationError("email", "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email"));
  }

  if (!user.–≤–æ–∑—Ä–∞—Å—Ç || user.–≤–æ–∑—Ä–∞—Å—Ç < 18) {
    errors.push(new ValidationError("–≤–æ–∑—Ä–∞—Å—Ç", "–ú–∏–Ω–∏–º—É–º 18 –ª–µ—Ç"));
  }

  if (errors.length > 0) {
    throw new ValidationError(
      "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
      `–ù–∞–π–¥–µ–Ω–æ ${errors.length} –æ—à–∏–±–æ–∫`,
    );
  }

  return true;
}

try {
  const user = {
    –∏–º—è: "–ê",
    email: "–Ω–µ–≤–µ—Ä–Ω—ã–π-email",
    –≤–æ–∑—Ä–∞—Å—Ç: 16,
  };

  –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è(user);
  console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∞–ª–∏–¥–µ–Ω");
} catch (–æ—à–∏–±–∫–∞) {
  if (–æ—à–∏–±–∫–∞ instanceof –í–∞–ª–∏–¥–∞—Ü–∏—è–û—à–∏–±–∫–∞) {
    console.error("–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:", –æ—à–∏–±–∫–∞.message);
  } else {
    console.error("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:", –æ—à–∏–±–∫–∞.message);
  }
}
```

### üéØ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

```javascript
class APIError extends Error {
  constructor(status, message, data = null) {
    super(message);
    this.name = "APIError";
    this.status = status;
    this.data = data;
  }
}

async function apiRequest(url, options = {}) {
  try {
    const response = await fetch(url, {
      headers: {
        "Content-Type": "application/json",
        ...options.headers,
      },
      ...options,
    });

    const data = await response.json();

    if (!response.ok) {
      throw new APIError(
        response.status,
        data.message || `HTTP ${response.status}`,
        data,
      );
    }

    return data;
  } catch (error) {
    if (error instanceof APIError) {
      // –£–∂–µ –Ω–∞—à–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è –æ—à–∏–±–∫–∞
      throw error;
    } else if (error.name === "TypeError") {
      // –û—à–∏–±–∫–∞ —Å–µ—Ç–∏
      throw new APIError(0, "–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å–µ—Ä–≤–µ—Ä");
    } else {
      // –î—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏
      throw new APIError(500, "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞");
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function getUser(id) {
  try {
    const user = await apiRequest(`/api/users/${id}`);
    console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–µ–Ω:", user);
    return user;
  } catch (error) {
    if (error instanceof APIError) {
      switch (error.status) {
        case 404:
          console.error("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω");
          break;
        case 401:
          console.error("–ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è");
          break;
        case 0:
          console.error("–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º");
          break;
        default:
          console.error("–û—à–∏–±–∫–∞ API:", error.message);
      }
    } else {
      console.error("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:", error.message);
    }

    return null;
  }
}
```

### üéØ Graceful degradation (–ø–ª–∞–≤–Ω–æ–µ —É—Ö—É–¥—à–µ–Ω–∏–µ)

```javascript
class –£—Å—Ç–æ–π—á–∏–≤—ã–π–ó–∞–≥—Ä—É–∑—á–∏–∫ {
  constructor(–æ—Å–Ω–æ–≤–Ω–æ–π_url, —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ_url = []) {
    this.–æ—Å–Ω–æ–≤–Ω–æ–π_url = –æ—Å–Ω–æ–≤–Ω–æ–π_url;
    this.—Ä–µ–∑–µ—Ä–≤–Ω—ã–µ_url = —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ_url;
    this.–≤—Ä–µ–º—è_–æ–∂–∏–¥–∞–Ω–∏—è = 5000;
  }

  async –∑–∞–≥—Ä—É–∑–∏—Ç—å() {
    // –ü—ã—Ç–∞–µ–º—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫
    try {
      return await this.–∑–∞–≥—Ä—É–∑–∏—Ç—å_—Å_—Ç–∞–π–º–∞—É—Ç–æ–º(this.–æ—Å–Ω–æ–≤–Ω–æ–π_url);
    } catch (–æ—à–∏–±–∫–∞) {
      console.warn(
        "–û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ–±—É–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ:",
        –æ—à–∏–±–∫–∞.message,
      );

      // –ü—Ä–æ–±—É–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
      for (const url of this.—Ä–µ–∑–µ—Ä–≤–Ω—ã–µ_url) {
        try {
          return await this.–∑–∞–≥—Ä—É–∑–∏—Ç—å_—Å_—Ç–∞–π–º–∞—É—Ç–æ–º(url);
        } catch (—Ä–µ–∑–µ—Ä–≤–Ω–∞—è_–æ—à–∏–±–∫–∞) {
          console.warn(
            `–†–µ–∑–µ—Ä–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ ${url} –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:`,
            —Ä–µ–∑–µ—Ä–≤–Ω–∞—è_–æ—à–∏–±–∫–∞.message,
          );
        }
      }

      // –ï—Å–ª–∏ –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
      console.error("–í—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ data");
      return this.–ø–æ–ª—É—á–∏—Ç—å_–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ();
    }
  }

  –∑–∞–≥—Ä—É–∑–∏—Ç—å_—Å_—Ç–∞–π–º–∞—É—Ç–æ–º(url) {
    return Promise.race([
      fetch(url).then((r) => r.json()),
      new Promise((_, reject) =>
        setTimeout(() => reject(new Error("Timeout")), this.–≤—Ä–µ–º—è_–æ–∂–∏–¥–∞–Ω–∏—è),
      ),
    ]);
  }

  –ø–æ–ª—É—á–∏—Ç—å_–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ() {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ data –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    return { —Å—Ç–∞—Ç—É—Å: "offline", data: null };
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const loader = new ResilientLoader("https://api.example.com/data", [
  "https://backup1.example.com/data",
  "https://backup2.example.com/data",
]);

loader.load().then((data) => {
  if (data) {
    console.log("–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:", data);
  } else {
    console.log("–†–∞–±–æ—Ç–∞–µ–º –≤ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–µ");
  }
});
```

## üîÄ error object - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—à–∏–±–∫–∏

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞

```javascript
try {
  // –ö–æ–¥ –≤—ã–∑—ã–≤–∞—é—â–∏–π –æ—à–∏–±–∫—É
  JSON.parse("{–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π json}");
} catch (–æ—à–∏–±–∫–∞) {
  console.log("–ò–º—è –æ—à–∏–±–∫–∏:", –æ—à–∏–±–∫–∞.name); // "SyntaxError"
  console.log("–°–æ–æ–±—â–µ–Ω–∏–µ:", –æ—à–∏–±–∫–∞.message); // "Unexpected token n in JSON"
  console.log("–°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤:", –æ—à–∏–±–∫–∞.stack); // –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤

  // –ü–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏
  console.log("–ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞:", –æ—à–∏–±–∫–∞);
}
```

### üéØ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫

```javascript
class –ë–∏–∑–Ω–µ—Å–û—à–∏–±–∫–∞ extends Error {
  constructor(–∫–æ–¥, —Å–æ–æ–±—â–µ–Ω–∏–µ, –¥–µ—Ç–∞–ª–∏ = {}) {
    super(—Å–æ–æ–±—â–µ–Ω–∏–µ);
    this.name = "–ë–∏–∑–Ω–µ—Å–û—à–∏–±–∫–∞";
    this.–∫–æ–¥ = –∫–æ–¥;
    this.–¥–µ—Ç–∞–ª–∏ = –¥–µ—Ç–∞–ª–∏;
    this.–≤—Ä–µ–º—è = new Date().toISOString();
  }

  toObject() {
    return {
      –æ—à–∏–±–∫–∞: this.name,
      –∫–æ–¥: this.–∫–æ–¥,
      —Å–æ–æ–±—â–µ–Ω–∏–µ: this.message,
      –¥–µ—Ç–∞–ª–∏: this.–¥–µ—Ç–∞–ª–∏,
      –≤—Ä–µ–º—è: this.–≤—Ä–µ–º—è,
    };
  }
}

const businessError = new BusinessError("PAYMENT_FAILED", "–ü–ª–∞—Ç–µ–∂ –Ω–µ –ø—Ä–æ—à–µ–ª", {
  –∫–∞—Ä—Ç–∞: "****1234",
  —Å—É–º–º–∞: 1000,
});

console.log(businessError.toObject());
// {
//   –æ—à–∏–±–∫–∞: "–ë–∏–∑–Ω–µ—Å–û—à–∏–±–∫–∞",
//   –∫–æ–¥: "PAYMENT_FAILED",
//   —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ü–ª–∞—Ç–µ–∂ –Ω–µ –ø—Ä–æ—à–µ–ª",
//   –¥–µ—Ç–∞–ª–∏: { –∫–∞—Ä—Ç–∞: "****1234", —Å—É–º–º–∞: 1000 },
//   –≤—Ä–µ–º—è: "2023-10-25T15:30:45.123Z"
// }
```

## üéØ –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### üéØ window.onerror - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

```javascript
window.onerror = function (
  —Å–æ–æ–±—â–µ–Ω–∏–µ,
  –∏—Å—Ç–æ—á–Ω–∏–∫,
  –Ω–æ–º–µ—Ä_—Å—Ç—Ä–æ–∫–∏,
  –Ω–æ–º–µ—Ä_–∫–æ–ª–æ–Ω–∫–∏,
  –æ—à–∏–±–∫–∞,
) {
  console.error("–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞:", {
    —Å–æ–æ–±—â–µ–Ω–∏–µ,
    –∏—Å—Ç–æ—á–Ω–∏–∫,
    –Ω–æ–º–µ—Ä_—Å—Ç—Ä–æ–∫–∏,
    –Ω–æ–º–µ—Ä_–∫–æ–ª–æ–Ω–∫–∏,
    –æ—à–∏–±–∫–∞: –æ—à–∏–±–∫–∞?.stack,
  });

  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—à–∏–±–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
  –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–æ—à–∏–±–∫—É_–Ω–∞_—Å–µ—Ä–≤–µ—Ä({
    —Ç–∏–ø: "—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è",
    —Å–æ–æ–±—â–µ–Ω–∏–µ,
    –∏—Å—Ç–æ—á–Ω–∏–∫,
    –Ω–æ–º–µ—Ä_—Å—Ç—Ä–æ–∫–∏,
    –Ω–æ–º–µ—Ä_–∫–æ–ª–æ–Ω–∫–∏,
    —Å—Ç–µ–∫: –æ—à–∏–±–∫–∞?.stack,
    –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ø–æ–ª—É—á–∏—Ç—å_–¥–∞–Ω–Ω—ã–µ_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è(),
    –≤—Ä–µ–º—è: new Date().toISOString(),
  });

  // –ù–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
  return false;
};
```

### üéØ window.onunhandledrejection - –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã

```javascript
window.onunhandledrejection = function (—Å–æ–±—ã—Ç–∏–µ) {
  console.error("–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å:", —Å–æ–±—ã—Ç–∏–µ.reason);

  –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–æ—à–∏–±–∫—É_–Ω–∞_—Å–µ—Ä–≤–µ—Ä({
    —Ç–∏–ø: "–ø—Ä–æ–º–∏—Å",
    –ø—Ä–∏—á–∏–Ω–∞: —Å–æ–±—ã—Ç–∏–µ.reason,
    –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ø–æ–ª—É—á–∏—Ç—å_–¥–∞–Ω–Ω—ã–µ_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è(),
    –≤—Ä–µ–º—è: new Date().toISOString(),
  });

  // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—ã–≤–æ–¥ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å
  —Å–æ–±—ã—Ç–∏–µ.preventDefault();
};
```

### üéØ try...catch –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è

```javascript
// error-handler.js
class –ú–µ–Ω–µ–¥–∂–µ—Ä–û—à–∏–±–æ–∫ {
  constructor() {
    this.–æ—à–∏–±–∫–∏ = [];
    this.–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å_–≥–ª–æ–±–∞–ª—å–Ω—ã–µ_–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏();
  }

  –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å_–≥–ª–æ–±–∞–ª—å–Ω—ã–µ_–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏() {
    window.onerror = (
      —Å–æ–æ–±—â–µ–Ω–∏–µ,
      –∏—Å—Ç–æ—á–Ω–∏–∫,
      –Ω–æ–º–µ—Ä_—Å—Ç—Ä–æ–∫–∏,
      –Ω–æ–º–µ—Ä_–∫–æ–ª–æ–Ω–∫–∏,
      –æ—à–∏–±–∫–∞,
    ) => {
      this.–∑–∞–ø–∏—Å–∞—Ç—å_–æ—à–∏–±–∫—É({
        —Ç–∏–ø: "—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è",
        —Å–æ–æ–±—â–µ–Ω–∏–µ,
        –∏—Å—Ç–æ—á–Ω–∏–∫,
        –Ω–æ–º–µ—Ä_—Å—Ç—Ä–æ–∫–∏,
        –Ω–æ–º–µ—Ä_–∫–æ–ª–æ–Ω–∫–∏,
        –æ—à–∏–±–∫–∞,
        –≤—Ä–µ–º—è: new Date(),
      });
      return false;
    };

    window.onunhandledrejection = (—Å–æ–±—ã—Ç–∏–µ) => {
      this.–∑–∞–ø–∏—Å–∞—Ç—å_–æ—à–∏–±–∫—É({
        —Ç–∏–ø: "–ø—Ä–æ–º–∏—Å",
        –ø—Ä–∏—á–∏–Ω–∞: —Å–æ–±—ã—Ç–∏–µ.reason,
        –≤—Ä–µ–º—è: new Date(),
      });
      —Å–æ–±—ã—Ç–∏–µ.preventDefault();
    };
  }

  –∑–∞–ø–∏—Å–∞—Ç—å_–æ—à–∏–±–∫—É(–æ—à–∏–±–∫–∞) {
    this.–æ—à–∏–±–∫–∏.push(–æ—à–∏–±–∫–∞);
    console.error("–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—à–∏–±–∫–∞:", –æ—à–∏–±–∫–∞);

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    this.–æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–Ω–∞_—Å–µ—Ä–≤–µ—Ä(–æ—à–∏–±–∫–∞);
  }

  –æ—Ç–ø—Ä–∞–≤–∏—Ç—å_–Ω–∞_—Å–µ—Ä–≤–µ—Ä(–æ—à–∏–±–∫–∞) {
    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã fetch
    console.log("–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—à–∏–±–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:", –æ—à–∏–±–∫–∞);
  }

  –ø–æ–ª—É—á–∏—Ç—å_–æ—à–∏–±–∫–∏() {
    return [...this.–æ—à–∏–±–∫–∏];
  }

  –æ—á–∏—Å—Ç–∏—Ç—å_–æ—à–∏–±–∫–∏() {
    this.–æ—à–∏–±–∫–∏ = [];
  }
}

// –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
window.–º–µ–Ω–µ–¥–∂–µ—Ä_–æ—à–∏–±–æ–∫ = new –ú–µ–Ω–µ–¥–∂–µ—Ä–û—à–∏–±–æ–∫();
```

## üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –Ω–æ–≤–∏—á–∫–æ–≤

### ‚ùå –ó–∞–±—ã—Ç—ã–π catch

```javascript
// ‚ùå –ü–õ–û–•–û - –æ—à–∏–±–∫–∞ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞
async —Ñ—É–Ω–∫—Ü–∏—è loadData() {
    const data = await fetch('/api/data'); // –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
    return data.json(); // –¢–æ–∂–µ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
}

// ‚úÖ –•–û–†–û–®–û - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏
async —Ñ—É–Ω–∫—Ü–∏—è loadData() {
    try {
        const response = await fetch('/api/data');
        const data = await response.json();
        return data;
    } catch (–æ—à–∏–±–∫–∞) {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:", –æ—à–∏–±–∫–∞);
        return null;
    }
}
```

### ‚ùå –°–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏–π catch

```javascript
// ‚ùå –ü–õ–û–•–û - –ª–æ–≤–∏–º –≤—Å–µ –æ—à–∏–±–∫–∏ –ø–æ–¥—Ä—è–¥
try {
  // –ú–Ω–æ–≥–æ —Ä–∞–∑–Ω–æ–≥–æ –∫–æ–¥–∞
} catch (–æ—à–∏–±–∫–∞) {
  console.log("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞"); // –ù–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ
}

// ‚úÖ –•–û–†–û–®–û - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
try {
  // –ö–æ–¥ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–º
} catch (–æ—à–∏–±–∫–∞) {
  if (–æ—à–∏–±–∫–∞.code === "ENOENT") {
    console.error("–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω");
  } else if (–æ—à–∏–±–∫–∞.code === "EACCES") {
    console.error("–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É");
  } else {
    console.error("–î—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞ —Ñ–∞–π–ª–∞:", –æ—à–∏–±–∫–∞.message);
  }
}
```

### ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ finally

```javascript
let resource;

try {
  resource = createResource();
  workWithResource(resource);
} catch (error) {
  console.error("–û—à–∏–±–∫–∞:", error);
} finally {
  // ‚ùå –ó–ê–ë–´–õ–ò –æ—á–∏—Å—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å!
}

// ‚úÖ –•–û–†–û–®–û - –≤—Å–µ–≥–¥–∞ –æ—á–∏—â–∞–µ–º —Ä–µ—Å—É—Ä—Å—ã
try {
  —Ä–µ—Å—É—Ä—Å = —Å–æ–∑–¥–∞—Ç—å_—Ä–µ—Å—É—Ä—Å();
  —Ä–∞–±–æ—Ç–∞—Ç—å_—Å_—Ä–µ—Å—É—Ä—Å–æ–º(—Ä–µ—Å—É—Ä—Å);
} catch (–æ—à–∏–±–∫–∞) {
  console.error("–û—à–∏–±–∫–∞:", –æ—à–∏–±–∫–∞);
} finally {
  if (—Ä–µ—Å—É—Ä—Å) {
    –æ—á–∏—Å—Ç–∏—Ç—å_—Ä–µ—Å—É—Ä—Å(—Ä–µ—Å—É—Ä—Å);
    console.log("–†–µ—Å—É—Ä—Å –æ—á–∏—â–µ–Ω");
  }
}
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ throw

```javascript
function checkValue(value) {
  // ‚ùå –ü–õ–û–•–û - –±—Ä–æ—Å–∞–µ–º —Å—Ç—Ä–æ–∫—É –≤–º–µ—Å—Ç–æ Error
  if (!value) throw "–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º";

  // ‚ùå –ü–õ–û–•–û - –±—Ä–æ—Å–∞–µ–º —á–∏—Å–ª–æ
  if (typeof value !== "string") throw 1;

  // ‚úÖ –•–û–†–û–®–û - –∏—Å–ø–æ–ª—å–∑—É–µ–º Error –∏–ª–∏ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤
  if (!value) throw new Error("–ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");
  if (typeof value !== "string")
    throw new TypeError("–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π");
}
```

## üìö –®–ø–∞—Ä–≥–∞–ª–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

| –¢–∏–ø –æ—à–∏–±–∫–∏     | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å              | –ü—Ä–∏–º–µ—Ä                                 |
| -------------- | ------------------------------- | -------------------------------------- |
| `try/catch`    | –ë–ª–æ–∫ –∫–æ–¥–∞ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ | `try { risky() } catch(e) { ... }`     |
| `throw`        | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—à–∏–±–∫–∏                | `throw new Error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞")`  |
| `finally`      | –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤—Å–µ–≥–¥–∞  | `try { ... } finally { cleanup() }`    |
| `Error`        | –ë–∞–∑–æ–≤–∞—è –æ—à–∏–±–∫–∞                  | `new Error("–°–æ–æ–±—â–µ–Ω–∏–µ")`               |
| `TypeError`    | –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö             | `new TypeError("–û–∂–∏–¥–∞–µ—Ç—Å—è —á–∏—Å–ª–æ")`     |
| `RangeError`   | –ó–Ω–∞—á–µ–Ω–∏–µ –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞          | `new RangeError("–ó–Ω–∞—á–µ–Ω–∏–µ > 100")`     |
| `SyntaxError`  | –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞           | `new SyntaxError("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON")` |
| `Custom Error` | –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏            | `class MyError extends Error`          |

## üéÆ –ü—Ä–∞–∫—Ç–∏–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏

–û—Ç–∫—Ä–æ–π F12 –∏ –ø–æ–ø—Ä–æ–±—É–π:

```javascript
// 1. –ë–∞–∑–æ–≤—ã–π try/catch
try {
  JSON.parse("{ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π json }");
} catch (–æ—à–∏–±–∫–∞) {
  console.log("–ü–æ–π–º–∞–ª–∏ –æ—à–∏–±–∫—É:", –æ—à–∏–±–∫–∞.message);
  console.log("–¢–∏–ø:", –æ—à–∏–±–∫–∞.name);
}

// 2. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞
function checkNumber(number) {
  if (typeof number !== "number" || isNaN(number)) {
    throw new TypeError("–û–∂–∏–¥–∞–µ—Ç—Å—è —á–∏—Å–ª–æ");
  }
  return "–ß–∏—Å–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ";
}

try {
  checkNumber("–Ω–µ —á–∏—Å–ª–æ");
} catch (error) {
  console.error("–û—à–∏–±–∫–∞:", error.message);
}

// 3. –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
try {
  const obj = null;
  obj.property.method();
} catch (–æ—à–∏–±–∫–∞) {
  if (–æ—à–∏–±–∫–∞ instanceof TypeError) {
    console.log("TypeError: –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∏–ø–æ–º");
  } else if (–æ—à–∏–±–∫–∞ instanceof ReferenceError) {
    console.log("ReferenceError: –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω");
  } else {
    console.log("–î—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞:", –æ—à–∏–±–∫–∞.name);
  }
}

// 4. Finally –±–ª–æ–∫
let resource = "—Ä–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω";
try {
  console.log("–†–∞–±–æ—Ç–∞–µ–º —Å —Ä–µ—Å—É—Ä—Å–æ–º");
  throw new Error("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫");
} catch (error) {
  console.log("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞:", error.message);
} finally {
  resource = "—Ä–µ—Å—É—Ä—Å –æ—á–∏—â–µ–Ω";
  console.log("Finally:", resource);
}

// 5. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞
async function asyncError() {
  try {
    // –°–∏–º—É–ª—è—Ü–∏—è –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏
    throw new Error("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏");
  } catch (–æ—à–∏–±–∫–∞) {
    console.log("–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:", –æ—à–∏–±–∫–∞.message);
  }
}

asyncError();

// 6. –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ—à–∏–±–∫–∞
class –í–∞–ª–∏–¥–∞—Ü–∏—è–û—à–∏–±–∫–∞ extends Error {
  constructor(–ø–æ–ª–µ, —Å–æ–æ–±—â–µ–Ω–∏–µ) {
    super(`${–ø–æ–ª–µ}: ${—Å–æ–æ–±—â–µ–Ω–∏–µ}`);
    this.name = "–í–∞–ª–∏–¥–∞—Ü–∏—è–û—à–∏–±–∫–∞";
    this.–ø–æ–ª–µ = –ø–æ–ª–µ;
  }
}

function validate(email) {
  if (!email.includes("@")) {
    throw new ValidationError("email", "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email");
  }
  return "Email –≤–∞–ª–∏–¥–µ–Ω";
}

try {
  validate("–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π-email");
} catch (error) {
  if (error instanceof ValidationError) {
    console.log(`–û—à–∏–±–∫–∞ –≤ –ø–æ–ª–µ "${error.field}": ${error.message}`);
  }
}

// 7. –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ (–≤—Ä–µ–º–µ–Ω–Ω–æ)
const oldHandler = window.onerror;
window.onerror = function (msg, source, line, col, error) {
  console.log("–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –ø–æ–π–º–∞–Ω–∞:", { msg, source, line, col });
  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
  setTimeout(() => {
    window.onerror = —Å—Ç–∞—Ä—ã–π_handler;
  }, 1000);
  return false;
};

// –í—ã–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–ª—è —Ç–µ—Å—Ç–∞
setTimeout(() => {
  nonexistentVariable.property; // –í—ã–∑–æ–≤–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É
}, 2000);
```

---

**–ó–∞–ø–æ–º–Ω–∏ –≥–ª–∞–≤–Ω–æ–µ:** –û—à–∏–±–∫–∏ - —ç—Ç–æ –Ω–µ –≤—Ä–∞–≥–∏, –∞ –ø–æ–º–æ—â–Ω–∏–∫–∏! –û–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–æ–¥–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try/catch` –¥–ª—è —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Å–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –≤—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏. üõ°Ô∏è

–•–æ—Ä–æ—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –Ω–∞–¥–µ–∂–Ω—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º! üéØ
